# Generated by Django 5.1.1 on 2024-11-26 14:06

import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='BudgetEstimate',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False, verbose_name='Budget ID')),
                ('projected_cost', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Projected Cost')),
                ('version_budget', models.IntegerField(default=0, verbose_name='Version Budget')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, verbose_name='Date Created')),
                ('last_updated', models.DateTimeField(auto_now=True, verbose_name='Last Updated')),
                ('profit_value', models.DecimalField(decimal_places=2, max_digits=30, verbose_name='Profit Value')),
                ('actual_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=30, null=True, verbose_name='Actual Cost')),
                ('status', models.CharField(choices=[('saved', 'Saved'), ('sent', 'Sent'), ('rejected', 'Rejected'), ('completed', 'Completed'), ('obsolete', 'Obsolete'), ('billed', 'Billed')], default='saved', max_length=20, verbose_name='Status')),
                ('actual_invoice', models.DecimalField(blank=True, decimal_places=2, max_digits=30, null=True, verbose_name='Actual Cost')),
                ('id_related_budget', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='related_budgets', to='customer.budgetestimate')),
                ('sales_advisor', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Sales Advisor')),
            ],
        ),
        migrations.CreateModel(
            name='BudgetEstimateContractorData',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False, verbose_name='Contractor ID')),
                ('contractor_description', models.CharField(max_length=255)),
                ('lead_time', models.CharField(blank=True, max_length=50)),
                ('contractor_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('is_generated_by_utils', models.BooleanField(default=False)),
                ('item_value', models.CharField(default='GENERAL', max_length=50)),
                ('budget', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='contractors', to='customer.budgetestimate')),
            ],
        ),
        migrations.CreateModel(
            name='BudgetEstimateDeductsData',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False, verbose_name='Deducts ID')),
                ('deduct_description', models.CharField(blank=True, max_length=255)),
                ('deduct_value', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('lead_time', models.CharField(blank=True, max_length=50)),
                ('is_generated_by_utils', models.BooleanField(default=False)),
                ('item_value', models.CharField(default='GENERAL', max_length=50)),
                ('budget', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='deducts', to='customer.budgetestimate')),
            ],
        ),
        migrations.CreateModel(
            name='BudgetEstimateLaborData',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False, verbose_name='Labor ID')),
                ('labor_description', models.CharField(blank=True, max_length=255)),
                ('cost_by_day', models.DecimalField(decimal_places=2, max_digits=10)),
                ('days', models.IntegerField()),
                ('lead_time', models.CharField(blank=True, max_length=50)),
                ('labor_cost', models.DecimalField(decimal_places=2, max_digits=10)),
                ('is_generated_by_utils', models.BooleanField(default=False)),
                ('item_value', models.CharField(default='GENERAL', max_length=50)),
                ('budget', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='labors', to='customer.budgetestimate')),
            ],
        ),
        migrations.CreateModel(
            name='BudgetEstimateMaterialData',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False, verbose_name='Material ID')),
                ('material_description', models.CharField(blank=True, max_length=255)),
                ('is_generated_by_utils', models.BooleanField(default=False)),
                ('item_value', models.CharField(default='GENERAL', max_length=50)),
                ('quantity', models.DecimalField(decimal_places=2, max_digits=10)),
                ('unit_cost', models.DecimalField(decimal_places=2, max_digits=10)),
                ('lead_time', models.CharField(blank=True, max_length=50)),
                ('cost', models.DecimalField(decimal_places=2, max_digits=10)),
                ('budget', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='materials', to='customer.budgetestimate')),
            ],
        ),
        migrations.CreateModel(
            name='BudgetEstimateMiscData',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False, verbose_name='Misc ID')),
                ('misc_description', models.CharField(blank=True, max_length=255)),
                ('misc_value', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('lead_time', models.CharField(blank=True, max_length=50)),
                ('is_generated_by_utils', models.BooleanField(default=False)),
                ('item_value', models.CharField(default='GENERAL', max_length=50)),
                ('budget', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='misc_data', to='customer.budgetestimate')),
            ],
        ),
        migrations.CreateModel(
            name='BudgetEstimateProfitData',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False, verbose_name='Profit ID')),
                ('profit_description', models.CharField(blank=True, max_length=255)),
                ('lead_time', models.CharField(blank=True, max_length=50, null=True)),
                ('profit_value', models.DecimalField(decimal_places=2, max_digits=10)),
                ('is_generated_by_utils', models.BooleanField(default=False)),
                ('item_value', models.CharField(default='GENERAL', max_length=50)),
                ('budget', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='profits', to='customer.budgetestimate')),
            ],
        ),
        migrations.CreateModel(
            name='BudgetEstimateUtil',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False, verbose_name='Util ID')),
                ('add_hole_checked', models.BooleanField(default=False)),
                ('add_utilities_checked', models.BooleanField(default=False)),
                ('add_removal_checked', models.BooleanField(default=False)),
                ('total_ft', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('total_posts', models.IntegerField(default=0)),
                ('hole_quantity', models.DecimalField(decimal_places=2, default=0.96, max_digits=10)),
                ('hole_cost', models.DecimalField(decimal_places=2, default=180, max_digits=10)),
                ('cost_per_hole', models.DecimalField(decimal_places=2, default=3, max_digits=10)),
                ('utilities_cost', models.DecimalField(decimal_places=2, default=1.5, max_digits=10)),
                ('removal_cost', models.DecimalField(decimal_places=2, default=1, max_digits=10)),
                ('add_unit_cost_mi', models.BooleanField(default=False)),
                ('manufacturing_data', models.JSONField(default=list)),
                ('cost_data', models.JSONField(default=list)),
                ('add_unit_cost_mw', models.BooleanField(default=False)),
                ('data_unit_cost_mw', models.JSONField(default=list)),
                ('data_unit_cost_mw_items', models.JSONField(default=list)),
                ('add_data_profit_by_daymw', models.BooleanField(default=False)),
                ('data_profit_by_daymw', models.DecimalField(decimal_places=2, default=1, max_digits=10)),
                ('add_data_profit_by_day', models.BooleanField(default=False)),
                ('days', models.IntegerField(default=15)),
                ('profit_value', models.DecimalField(decimal_places=2, max_digits=10)),
                ('use_day_in_items_manufacturing', models.BooleanField(default=False)),
                ('add_loans', models.BooleanField(default=False)),
                ('percentage', models.DecimalField(decimal_places=2, max_digits=5)),
                ('budget', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='util_data', to='customer.budgetestimate')),
            ],
        ),
        migrations.CreateModel(
            name='Customer',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('first_name', models.CharField(max_length=100, verbose_name='First Name')),
                ('last_name', models.CharField(max_length=100, verbose_name='Last Name')),
                ('company_name', models.CharField(blank=True, max_length=200, null=True, verbose_name='Company Name')),
                ('customer_type', models.CharField(choices=[('individual', 'Individual'), ('company', 'Company'), ('contractor', 'Contractor')], default='individual', max_length=20, verbose_name='Customer Type')),
                ('status', models.CharField(choices=[('new', 'New'), ('contacted', 'Contacted'), ('quote_sent', 'Quote Sent'), ('in_negotiation', 'In Negotiation'), ('approved', 'Approved'), ('not_approved', 'Not Approved'), ('in_production', 'In Production'), ('pending_payment', 'Pending Payment'), ('inactive', 'Inactive'), ('cancelled', 'Cancelled')], default='new', max_length=20, verbose_name='Status')),
                ('email', models.EmailField(max_length=254, unique=True, verbose_name='Email')),
                ('phone', models.CharField(max_length=20, verbose_name='Phone')),
                ('address', models.TextField(verbose_name='Address')),
                ('city', models.CharField(max_length=100, verbose_name='City')),
                ('state', models.CharField(max_length=100, verbose_name='State/Province')),
                ('zip_code', models.CharField(blank=True, max_length=20, null=True, verbose_name='ZIP/Postal Code')),
                ('country', models.CharField(max_length=100, verbose_name='Country')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, verbose_name='Date Created')),
                ('last_updated', models.DateTimeField(auto_now=True, verbose_name='Last Updated')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('number_of_projects', models.PositiveIntegerField(default=0, verbose_name='Number of Projects')),
                ('sales_advisor', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Sales Advisor')),
            ],
            options={
                'verbose_name': 'Customer',
                'verbose_name_plural': 'Customers',
                'ordering': ['-date_created'],
            },
        ),
        migrations.CreateModel(
            name='Project',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False, verbose_name='Project ID')),
                ('project_name', models.CharField(max_length=255, verbose_name='Project Name')),
                ('start_date', models.DateField(blank=True, null=True, verbose_name='Start Date')),
                ('end_date', models.DateField(blank=True, null=True, verbose_name='End Date')),
                ('status', models.CharField(choices=[('new', 'New'), ('contacted', 'Contacted'), ('quote_sent', 'Quote Sent'), ('in_negotiation', 'In Negotiation'), ('approved', 'Approved'), ('not_approved', 'Not Approved'), ('in_production', 'In Production'), ('pending_payment', 'Pending Payment'), ('inactive', 'Inactive'), ('cancelled', 'Cancelled')], default='new', max_length=20, verbose_name='Status')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Project Description')),
                ('estimated_cost', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=10, null=True, verbose_name='Estimated Cost')),
                ('actual_cost', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=10, null=True, verbose_name='Actual Cost')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated At')),
                ('city', models.CharField(default='Hialeah', max_length=100, verbose_name='City')),
                ('state', models.CharField(default='Florida', max_length=100, verbose_name='State/Province')),
                ('zip_code', models.CharField(blank=True, max_length=20, null=True, verbose_name='ZIP/Postal Code')),
                ('country', models.CharField(default='United States', max_length=100, verbose_name='Country')),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='projects', to='customer.customer', verbose_name='Customer')),
                ('sales_advisor', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Sales Advisor')),
            ],
        ),
        migrations.CreateModel(
            name='InvoiceProjects',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tracking_id', models.CharField(max_length=255)),
                ('invoiceInfo', models.JSONField(blank=True, default=dict)),
                ('project_name', models.CharField(default='none', max_length=255)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, verbose_name='Date Created')),
                ('due_date', models.DateTimeField(verbose_name='Due Date')),
                ('subtotal', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Subtotal')),
                ('tax', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Tax')),
                ('retention', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Retention')),
                ('total_invoice', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Total Invoice')),
                ('approved_by', models.CharField(blank=True, max_length=255, null=True)),
                ('print_name', models.CharField(blank=True, max_length=255, null=True)),
                ('signature', models.CharField(blank=True, max_length=255, null=True)),
                ('terms_conditions', models.TextField(blank=True, null=True, verbose_name='Terms and Conditions')),
                ('status', models.CharField(choices=[('new', 'New'), ('sent', 'Sent'), ('pending', 'Pending'), ('approved', 'Approved'), ('rejected', 'Rejected'), ('paid', 'Paid')], default='new', max_length=20, verbose_name='Status')),
                ('budget', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='invoices', to='customer.budgetestimate')),
                ('sales_advisor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Sales Advisor')),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='invoices', to='customer.project')),
            ],
            options={
                'verbose_name': 'Invoice',
                'verbose_name_plural': 'Invoices',
            },
        ),
        migrations.AddField(
            model_name='budgetestimate',
            name='project',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='budget_categories', to='customer.project'),
        ),
    ]
